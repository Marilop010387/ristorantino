<html>
<head>
	<title>Test Page</title>
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">

	
</head>
<body>

	<div>
		<h1>Mensajero</h1>
		<input type="text" id="input" placeholder="Escribe el mensaje aca"/>
	</div>

	<div id="aca-text" style="width: 50%; float: left; background: silver">OOO</div>

	<div id="aca-news" style="width: 50%; float: left; background: #333; color: #fff">OOO</div>




	
</body>
</html>


<script src="http://127.0.0.1:2001/socket.io/socket.io.js"></script>
	
	<script>
	  var socket = io.connect('http://127.0.0.1:2001');
	  socket.on('news', function (data) {

	  	console.debug(document.getElementById('aca-news').innerHTML);
	  	document.getElementById('aca-news').innerHTML = document.getElementById('aca-news').innerHTML+ "<br>" +data.msg ;

	    console.log(data);
	    socket.emit('my other event', { my: 'data' });
	  });


	  socket.on('text', function (data) {
	  	console.info("VINO TEXT");
	  	console.log(data);
	  	document.getElementById('aca-text').innerHTML = data.msg ;
	    
	    socket.emit('my other event', { my: 'data' });
	  });


	  socket.on('user disconnected',function(){
	  		console.error("se desconecto alguien");
	  });



	  var inp = document.getElementById('input');
	  inp.addEventListener("change", sendMesg, false); 


	  function sendMesg () {
	  	console.debug("se mando %o", inp.value);
	  	socket.emit('text', { msg:  inp.value});
	  }
	</script>